{#
/**
 * @file
 * List with illustration.
 */
#}

{# Set the columns to 1 if vertical variants. #}
{% if 'vertical' in variant %}
  {% set column = 1 %}
{% endif %}

{# Set the zebra to false if horizontal variants. #}
{% if 'horizontal' in variant %}
  {% set zebra = false %}
{% endif %}

{% set _items = [] %}
{% for item in items %}
  {% if 'icon' in variant %}
    {# Remove image information if an icon variant. #}
    {% set _item = item|merge({'image': {}}) %}
  {% elseif 'image' in variant %}
    {# Remove icon information if an image variant. #}
    {% set _item = item|merge({'icon': {}}) %}
    {# Make images square if square variant. #}
    {% if _item.image and 'square' in variant %}
      {% set _image = _item.image|merge({'squared': true}) %}
      {% set _item = _item|merge({'image': _image}) %}
    {% endif %}
  {% endif %}
  {% set _items = _items|merge([_item]) %}
{% endfor %}
{% include '@ecl-twig/list-illustration' with {
  'column': column,
  'zebra': zebra,
  'items': _items,
} only %}
